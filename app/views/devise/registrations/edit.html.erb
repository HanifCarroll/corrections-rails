<%= content_for :header do %>
  <h2 class="font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight">
    <%= t('Profile') %>
  </h2>
<% end %>

<div class="py-12">
  <div class="max-w-7xl mx-auto space-y-6">
    <!-- Profile Information Section -->
    <div class="bg-white dark:bg-gray-800 shadow sm:rounded-lg overflow-hidden">
      <div class="p-6 space-y-6">
        <section>
          <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">
            <%= t('Profile Information') %>
          </h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
            <%= t("Update your account's profile information and email address.") %>
          </p>

          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: "mt-6 space-y-6" }) do |f| %>
            <%= render "devise/shared/error_messages", resource: resource %>

            <div>
              <%= f.label :name, class: "block font-medium text-sm text-gray-700 dark:text-gray-300" %>
              <%= f.text_field :name, autofocus: true, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
            </div>

            <div>
              <%= f.label :email, class: "block font-medium text-sm text-gray-700 dark:text-gray-300" %>
              <%= f.email_field :email, autocomplete: "email", class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
            </div>

            <div class="flex items-center gap-4">
              <%= f.submit "Save", class: "px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150" %>
            </div>
          <% end %>
        </section>
      </div>
    </div>

    <!-- Update Password Section -->
    <div class="bg-white dark:bg-gray-800 shadow sm:rounded-lg overflow-hidden">
      <div class="p-6 space-y-6">
        <section>
          <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">
            <%= t('Update Password') %>
          </h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
            <%= t("Ensure your account is using a long, random password to stay secure.") %>
          </p>

          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: "mt-6 space-y-6" }) do |f| %>
            <div>
              <%= f.label :current_password, class: "block font-medium text-sm text-gray-700 dark:text-gray-300" %>
              <%= f.password_field :current_password, autocomplete: "current-password", class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
            </div>

            <div>
              <%= f.label :password, t("New Password"), class: "block font-medium text-sm text-gray-700 dark:text-gray-300" %>
              <%= f.password_field :password, autocomplete: "new-password", class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
            </div>

            <div>
              <%= f.label :password_confirmation, t("Confirm Password"), class: "block font-medium text-sm text-gray-700 dark:text-gray-300" %>
              <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
            </div>

            <div class="flex items-center gap-4">
              <%= f.submit "Save", class: "px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150" %>
            </div>
          <% end %>
        </section>
      </div>
    </div>

    <!-- Delete Account Section -->
    <div class="bg-white dark:bg-gray-800 shadow sm:rounded-lg overflow-hidden">
      <div class="p-6">
        <section>
          <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">
            <%= t('Delete Account') %>
          </h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
            <%= t('Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain.') %>
          </p>

          <div class="mt-6">
            <%= button_to t("Delete Account"), registration_path(resource_name), data: { confirm: t("Are you sure?"), turbo_confirm: t("Are you sure?") }, method: :delete, class: "px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 focus:outline-none focus:border-red-700 focus:ring ring-red-300 active:bg-red-600 transition ease-in-out duration-150" %>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>